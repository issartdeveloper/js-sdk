!function(t){"object"==typeof exports?module.exports=t("1"):"function"==typeof define&&define.amd?define(function(){return t("1")}):this.tongdao=t("1")}(function t(e,n,o){function i(t,o){if(n[t])return n[t].exports;if(e[t])return s(t,i);throw new Error('cannot find module "'+t+'"')}function s(i,s){var r=n[i]={exports:{}},a=e[i],u=a[2],p=a[0];return p.call(r.exports,function(t){var n=e[i][1][t];return s(n?n:t)},r,r.exports,t,e,n,o),u&&(n[u]=n[i]),n[i].exports}var r=function(){return this}();for(var a in o)o[a]?r[o[a]]=i(a):i(a);return i.duo=!0,i.cache=n,i.modules=e,i}({1:[function(t,e,n){var o=t("./tongdao"),i=window.tongdao||{},s=new o;s._q=i._q||[],e.exports=s},{"./tongdao":2}],2:[function(t,e,n){var o=t("./cookie"),i=t("json"),s=t("./language"),r=t("./localstorage"),a=t("JavaScript-MD5"),u=t("object"),p=t("./xhr"),c=t("ua-parser-js"),d=t("./uuid"),l=t("./version"),f=t("./identify"),h=t("./type"),v=function(t){console.log("[TongDao] "+t)},m="$identify",g=1024,w={apiEndpoint:"https://api.tongrd.com/v2/events",cookieExpiration:1825,cookieName:"tongdao_id",domain:void 0,includeUtm:!1,language:s.language,optOut:!1,platform:"Web",savedMaxCount:1e3,saveEvents:!0,sessionTimeout:18e5,unsentKey:"tongdao_unsent",unsentIdentifyKey:"tongdao_unsent_identify",uploadBatchSize:100,batchEvents:!1,eventUploadThreshold:30,eventUploadPeriodMillis:3e4},y={LAST_EVENT_ID:"tongdao_lastEventId",LAST_IDENTIFY_ID:"tongdao_lastIdentifyId",LAST_SEQUENCE_NUMBER:"tongdao_lastSequenceNumber",LAST_EVENT_TIME:"tongdao_lastEventTime",SESSION_ID:"tongdao_sessionId",DEVICE_ID:"tongdao_deviceId",USER_ID:"tongdao_userId",COOKIE_ID:"tongdao_cookieId",OPT_OUT:"tongdao_optOut"},_=function(){this._unsentEvents=[],this._unsentIdentifys=[],this._ua=new c(navigator.userAgent).getResult(),this.options=u.merge({},w),this._q=[]};_.prototype._eventId=0,_.prototype._identifyId=0,_.prototype._sequenceNumber=0,_.prototype._sending=!1,_.prototype._lastEventTime=null,_.prototype._sessionId=null,_.prototype._newSession=!1,_.prototype._updateScheduled=!1,_.prototype.Identify=f,_.prototype.init=function(t,e,n,i){var s=this;v("init");try{this.options.appKey=t,n&&(void 0!==n.saveEvents&&(this.options.saveEvents=!!n.saveEvents),void 0!==n.domain&&(this.options.domain=n.domain),void 0!==n.includeUtm&&(this.options.includeUtm=!!n.includeUtm),void 0!==n.includeReferrer&&(this.options.includeReferrer=!!n.includeReferrer),void 0!==n.batchEvents&&(this.options.batchEvents=!!n.batchEvents),this.options.platform=n.platform||this.options.platform,this.options.language=n.language||this.options.language,this.options.sessionTimeout=n.sessionTimeout||this.options.sessionTimeout,this.options.uploadBatchSize=n.uploadBatchSize||this.options.uploadBatchSize,this.options.eventUploadThreshold=n.eventUploadThreshold||this.options.eventUploadThreshold,this.options.savedMaxCount=n.savedMaxCount||this.options.savedMaxCount,this.options.eventUploadPeriodMillis=n.eventUploadPeriodMillis||this.options.eventUploadPeriodMillis),o.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain}),this.options.domain=o.options().domain,b(this),I(this);var u;this.options.deviceId||(v("New User"),u=!0),this.options.deviceId=n&&void 0!==n.deviceId&&null!==n.deviceId&&n.deviceId||this.options.deviceId||a(d()),this.options.userId=void 0!==e&&null!==e&&e||this.options.userId||null,this.options.cookieId=this.options.cookieId||this.options.deviceId,E(this),this.options.saveEvents&&(this._loadSavedUnsentEvents(this.options.unsentKey,"_unsentEvents"),this._loadSavedUnsentEvents(this.options.unsentIdentifyKey,"_unsentIdentifys")),this._sendEventsIfReady(),this.options.includeUtm&&this._initUtmData(),this._lastEventTime=parseInt(r.getItem(y.LAST_EVENT_TIME))||null,this._sessionId=parseInt(r.getItem(y.SESSION_ID))||null,this._eventId=r.getItem(y.LAST_EVENT_ID)||0,this._identifyId=r.getItem(y.LAST_IDENTIFY_ID)||0,this._sequenceNumber=r.getItem(y.LAST_SEQUENCE_NUMBER)||0;var p=(new Date).getTime();(!this._sessionId||!this._lastEventTime||p-this._lastEventTime>this.options.sessionTimeout)&&(this._newSession=!0,this._sessionId=p,r.setItem(y.SESSION_ID,this._sessionId)),this._lastEventTime=p,r.setItem(y.LAST_EVENT_TIME,this._lastEventTime)}catch(c){v("init: "+c)}if(i&&"function"===h(i)&&i(),u){var l={"!device":{"!browser_name":this._ua.browser.name||null,"!browser_version":this._ua.browser.major||null,"!os_name":this._ua.os.name||null,"!os_version":this._ua.os.version||null,"!language":this.options.language},"!fingerprint":{"!coid":this.options.cookieId}};this._logEvent("identify",null,l)}window.onload=function(){s._openPage(),s._routeHandler()}},_.prototype._openPage=function(){var t=this;this.options.startedAt=(new Date).toISOString();var e=document.createElement("a");e.href=window.location.href,this.options.openedPath=e.pathname+e.hash;var n={"!name":t.options.openedPath};this._logEvent("track","!open_page",n),window.onbeforeunload=function(){t._closePage(t.options.openedPath,t.options.startedAt,!0)}},_.prototype._closePage=function(t,e,n){var o=this;n&&(this.options.onUnloadEvent=!0);var i={"!name":t,"!started_at":e};this._logEvent("track","!close_page",i,null,null,function(){n||o._openPage()})},_.prototype._routeHandler=function(){var t=this;if(history.pushState){var e=window.history.pushState;history.pushState=function(t){return"function"==typeof history.onpushstate&&history.onpushstate({state:t}),e.apply(history,arguments)},window.onpopstate=history.onpushstate=function(e){var n=window.location;n.pathname+n.hash!==t.options.openedPath&&t._closePage(t.options.openedPath,t.options.startedAt,!1)}}else var n=window.location.href,o=(setInterval(function(){o()},200),function(){n!=window.location.href&&(t._closePage(t.options.openedPath,t.options.startedAt,!1),n=window.location.href)})},_.prototype.runQueuedFunctions=function(){for(var t=0;t<this._q.length;t++){var e=this[this._q[t][0]];e&&"function"===h(e)&&e.apply(this,this._q[t].slice(1))}this._q=[]},_.prototype._loadSavedUnsentEvents=function(t,e){var n=r.getItem(t);if(n)try{this[e]=i.parse(n)}catch(o){v("_loadSavedUnsentEvents: "+o)}},_.prototype.isNewSession=function(){return this._newSession},_.prototype.nextEventId=function(){return this._eventId++,this._eventId},_.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},_.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},_.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},_.prototype._sendEventsIfReady=function(t){return 0===this._unsentCount()?!1:this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold?(this.sendEvents(t),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout(function(){this._updateScheduled=!1,this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(t),!0)};var b=function(t){var e=o.get(t.options.cookieName);if(!e||!e.deviceId){var n=e&&e.deviceId||null,i=e&&e.userId||null,s=e&&e.cookieId||null,a=e&&null!==e.optOut&&void 0!==e.optOut?e.optOut:null,u="_"+t.options.appKey.slice(0,6),p=r.getItem(y.DEVICE_ID+u);p&&r.removeItem(y.DEVICE_ID+u);var c=r.getItem(y.USER_ID+u);c&&r.removeItem(y.USER_ID+u);var d=r.getItem(y.COOKIE_ID+u);d&&r.removeItem(y.COOKIE_ID+u);var l=r.getItem(y.OPT_OUT+u);null!==l&&void 0!==l&&(r.removeItem(y.OPT_OUT+u),l="true"===String(l)),o.set(t.options.cookieName,{deviceId:n||p,userId:i||c,cookieId:s||d,optOut:void 0!==a&&null!==a?a:l})}},I=function(t){var e=o.get(t.options.cookieName);e&&(e.deviceId&&(t.options.deviceId=e.deviceId),e.userId&&(t.options.userId=e.userId),e.cookieId&&(t.options.cookieId=e.cookieId),null!==e.optOut&&void 0!==e.optOut&&(t.options.optOut=e.optOut))},E=function(t){o.set(t.options.cookieName,{deviceId:t.options.deviceId,userId:t.options.userId,cookieId:t.options.cookieId,optOut:t.options.optOut})};_._getUtmParam=function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),o=n.exec(e);return null===o?void 0:decodeURIComponent(o[1].replace(/\+/g," "))},_._getUtmData=function(t,e){var n=t?"?"+t.split(".").slice(-1)[0].replace(/\|/g,"&"):"",o=function(t,e,n,o){return _._getUtmParam(t,e)||_._getUtmParam(n,o)};return{utm_source:o("utm_source",e,"utmcsr",n),utm_medium:o("utm_medium",e,"utmcmd",n),utm_campaign:o("utm_campaign",e,"utmccn",n),utm_term:o("utm_term",e,"utmctr",n),utm_content:o("utm_content",e,"utmcct",n)}},_.prototype._initUtmData=function(t,e){t=t||location.search,e=e||o.get("__utmz"),this._utmProperties=_._getUtmData(e,t)},_.prototype._getReferrer=function(){return document.referrer},_.prototype._getReferringDomain=function(){var t=this._getReferrer().split("/");return t.length>=3?t[2]:""},_.prototype.saveEvents=function(){try{r.setItem(this.options.unsentKey,i.stringify(this._unsentEvents)),r.setItem(this.options.unsentIdentifyKey,i.stringify(this._unsentIdentifys))}catch(t){v("saveEvents: "+t)}},_.prototype.setDomain=function(t){try{o.options({domain:t}),this.options.domain=o.options().domain,I(this),E(this)}catch(e){v("setDomain: "+e)}},_.prototype.setUserId=function(t){try{this.options.userId=void 0!==t&&null!==t&&""+t||null,E(this),this.setUserProperties({user_id:t,previous_id:this.options.deviceId})}catch(e){v("setUserId: "+e)}},_.prototype.setOptOut=function(t){try{this.options.optOut=t,E(this)}catch(e){v("setOptOut: "+e)}},_.prototype.setDeviceId=function(t){try{t&&(this.options.deviceId=""+t,E(this))}catch(e){v("setDeviceId: "+e)}},_.prototype.setUserProperties=function(t){var e=new f;for(var n in t)t.hasOwnProperty(n)&&e.set(n,t[n]);this.identify(e,t)},_.prototype.identify=function(t,e){if("object"===h(t)&&"_q"in t){for(var n=new f,o=0;o<t._q.length;o++){var i=n[t._q[o][0]];i&&"function"===h(i)&&i.apply(n,t._q[o].slice(1))}t=n}t instanceof f&&Object.keys(t.userPropertiesOperations).length>0&&this._logEvent("merge",null,null,null,e,t.userPropertiesOperations)},_.prototype.setVersionName=function(t){try{this.options.versionName=t}catch(e){v("setVersionName"+e)}},_.prototype._truncate=function(t){if("array"===h(t))for(var e=0;e<t.length;e++)t[e]=this._truncate(t[e]);else if("object"===h(t))for(var n in t)t.hasOwnProperty(n)&&(t[n]=this._truncate(t[n]));else t=S(t);return t};var S=function(t){return"string"===h(t)&&t.length>g?t.substring(0,g):t};_.prototype._logEvent=function(t,e,n,o,i,s){if(n&&"object"!==h(n))throw new Error("Track Event "+e+": properties not an object");if("function"!==h(s)&&(s=null),!t||this.options.optOut)return void(s&&s(0,"No request sent"));try{var a;t===m?(a=this.nextIdentifyId(),r.setItem(y.LAST_IDENTIFY_ID,a)):(a=this.nextEventId(),r.setItem(y.LAST_EVENT_ID,a));var u=(new Date).getTime(),p=(new Date).toISOString();this._ua;(!this._sessionId||!this._lastEventTime||u-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=u,r.setItem(y.SESSION_ID,this._sessionId)),this._lastEventTime=u,r.setItem(y.LAST_EVENT_TIME,this._lastEventTime),i=i||{},n=n||{};var c={action:t,user_id:this.options.userId||this.options.deviceId,properties:n,timestamp:p};if(e&&(c.event=e),i)for(var d in i)c[d]||(c[d]=i[d]);return t===m?(this._unsentIdentifys.push(c),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push(c),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),!this._sendEventsIfReady(s)&&s&&s(0,"No request sent"),a}catch(l){v("_logEvent: "+l)}},_.prototype._limitEventsQueued=function(t){t.length>this.options.savedMaxCount&&t.splice(0,t.length-this.options.savedMaxCount)},_.prototype.track=function(t,e,n){return this._logEvent("track",t,e,null,null,n)};var x=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};_.prototype.logRevenue=function(t,e,n){return x(t)&&(void 0===e||x(e))?this._logEvent("track","revenue_amount",{},{productId:n,special:"revenue_amount",quantity:e||1,price:t}):void 0},_.prototype.removeEvents=function(t,e){if(t>=0){for(var n=[],o=0;o<this._unsentEvents.length;o++)this._unsentEvents[o].event_id>t&&n.push(this._unsentEvents[o]);this._unsentEvents=n}if(e>=0){for(var i=[],s=0;s<this._unsentIdentifys.length;s++)this._unsentIdentifys[s].event_id>e&&i.push(this._unsentIdentifys[s]);this._unsentIdentifys=i}},_.prototype.sendEvents=function(t){if(!this.options.optOut&&this._unsentCount()>0){var e=this.options.apiEndpoint,n=Math.min(this._unsentCount(),this.options.uploadBatchSize),o=this._mergeEventsAndIdentifys(n),i=o.maxEventId,s=o.maxIdentifyId,r=o.eventsToSend,a=this.options.appKey,u=this.options.onUnloadEvent||!1,c=((new Date).getTime(),{events:r}),d=this;this._sending&&(c.events=[c.events[c.events.length-1]]),this._sending=!0,new p(e,c,a,u).send(function(e,o){d._sending=!1;try{204===e?(d.removeEvents(i,s),d._unsentEvents=[],d.options.saveEvents&&d.saveEvents(),!d._sendEventsIfReady(t)&&t&&t(e,o)):413===e?(v("request too large"),1===d.options.uploadBatchSize&&d.removeEvents(i,s),d.options.uploadBatchSize=Math.ceil(n/2),d.sendEvents(t)):t&&(t(e,o),v("possible 400"))}catch(r){v("failed upload"+r)}})}else t&&t(0,"No request sent")},_.prototype._mergeEventsAndIdentifys=function(t){for(var e=[],n=0,o=-1,i=0,s=-1;e.length<t;){var r;i>=this._unsentIdentifys.length?(r=this._unsentEvents[n++],o=r.event_id):n>=this._unsentEvents.length?(r=this._unsentIdentifys[i++],s=r.event_id):!("sequence_number"in this._unsentEvents[n])||this._unsentEvents[n].sequence_number<this._unsentIdentifys[i].sequence_number?(r=this._unsentEvents[n++],o=r.event_id):(r=this._unsentIdentifys[i++],s=r.event_id),e.push(r)}return{eventsToSend:e,maxEventId:o,maxIdentifyId:s}},_.prototype.setGlobalUserProperties=_.prototype.setUserProperties,_.prototype.__VERSION__=l,_.prototype.redirect=function(t){window.location.href=t+"?UID="+this.options.cookieId},e.exports=_},{"./cookie":3,json:4,"./language":5,"./localstorage":6,"JavaScript-MD5":7,object:8,"./xhr":9,"ua-parser-js":10,"./uuid":11,"./version":12,"./identify":13,"./type":14}],3:[function(t,e,n){var o=t("./base64"),i=t("json"),s=t("top-domain"),r=(t("JavaScript-MD5"),{expirationDays:void 0,domain:void 0}),a=function(){r={}},u=function(t){if(0===arguments.length)return r;t=t||{},r.expirationDays=t.expirationDays;var e=void 0!==t.domain?t.domain:"."+s(window.location.href),n=Math.random();r.domain=e,d("tongdao_test",n);var o=c("tongdao_test");o&&o===n||(e=null),f("tongdao_test"),r.domain=e},p=function(t){var e="";return r.domain&&(e="."===r.domain.charAt(0)?r.domain.substring(1):r.domain),t+e},c=function(t){try{for(var e=p(t)+"=",n=document.cookie.split(";"),s=null,r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e)){s=a.substring(e.length,a.length);break}}return s?i.parse(o.decode(s)):null}catch(u){return null}},d=function(t,e){try{return l(p(t),o.encode(i.stringify(e)),r),!0}catch(n){return!1}},l=function(t,e,n){var o=null!==e?n.expirationDays:-1;if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),o=i}var s=t+"="+e;o&&(s+="; expires="+o.toUTCString()),s+="; path=/",n.domain&&(s+="; domain="+n.domain),document.cookie=s},f=function(t){try{return l(p(t),null,r),!0}catch(e){return!1}};e.exports={reset:a,options:u,get:c,set:d,remove:f}},{"./base64":15,json:4,"top-domain":16,"JavaScript-MD5":7}],15:[function(t,e,n){var o=t("./utf8"),i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){try{if(window.btoa&&window.atob)return window.btoa(unescape(encodeURIComponent(t)))}catch(e){}return i._encode(t)},_encode:function(t){var e,n,s,r,a,u,p,c="",d=0;for(t=o.encode(t);d<t.length;)e=t.charCodeAt(d++),n=t.charCodeAt(d++),s=t.charCodeAt(d++),r=e>>2,a=(3&e)<<4|n>>4,u=(15&n)<<2|s>>6,p=63&s,isNaN(n)?u=p=64:isNaN(s)&&(p=64),c=c+i._keyStr.charAt(r)+i._keyStr.charAt(a)+i._keyStr.charAt(u)+i._keyStr.charAt(p);return c},decode:function(t){try{if(window.btoa&&window.atob)return decodeURIComponent(escape(window.atob(t)))}catch(e){}return i._decode(t)},_decode:function(t){var e,n,s,r,a,u,p,c="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)r=i._keyStr.indexOf(t.charAt(d++)),a=i._keyStr.indexOf(t.charAt(d++)),u=i._keyStr.indexOf(t.charAt(d++)),p=i._keyStr.indexOf(t.charAt(d++)),e=r<<2|a>>4,n=(15&a)<<4|u>>2,s=(3&u)<<6|p,c+=String.fromCharCode(e),64!==u&&(c+=String.fromCharCode(n)),64!==p&&(c+=String.fromCharCode(s));return c=o.decode(c)}};e.exports=i},{"./utf8":17}],17:[function(t,e,n){var o={encode:function(t){for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e+=String.fromCharCode(o):o>127&&2048>o?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},decode:function(t){for(var e="",n=0,o=0,i=0,s=0;n<t.length;)o=t.charCodeAt(n),128>o?(e+=String.fromCharCode(o),n++):o>191&&224>o?(i=t.charCodeAt(n+1),e+=String.fromCharCode((31&o)<<6|63&i),n+=2):(i=t.charCodeAt(n+1),s=t.charCodeAt(n+2),e+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s),n+=3);return e}};e.exports=o},{}],4:[function(t,e,n){var o=window.JSON||{},i=o.stringify,s=o.parse;e.exports=s&&i?JSON:t("json-fallback")},{"json-fallback":18}],18:[function(require,module,exports){!function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,o,i,s,r,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(u)){for(s=u.length,n=0;s>n;n+=1)r[n]=str(n,u)||"null";return i=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;s>n;n+=1)"string"==typeof rep[n]&&(o=rep[n],i=str(o,u),i&&r.push(quote(o)+(gap?": ":":")+i));else for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i=str(o,u),i&&r.push(quote(o)+(gap?": ":":")+i));return i=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,i}}var JSON=module.exports={};"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;n>o;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var n,o,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o=walk(i,n),void 0!==o?i[n]=o:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],16:[function(t,e,n){function o(t){var e=i(t).hostname,n=e.match(s);return n?n[0]:""}var i=t("url").parse;e.exports=o;var s=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i},{url:19}],19:[function(t,e,n){function o(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}n.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?o(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},n.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},n.isRelative=function(t){return!n.isAbsolute(t)},n.isCrossDomain=function(t){t=n.parse(t);var e=n.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol}},{}],5:[function(t,e,n){var o=function(){return navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||void 0};e.exports={language:o()}},{}],6:[function(t,e,n){function o(){var t,e=new Date;try{return window.localStorage.setItem(e,e),t=window.localStorage.getItem(e)===String(e),window.localStorage.removeItem(e),t}catch(n){}return!1}var i;if(o())i=window.localStorage;else if(window.globalStorage)try{i=window.globalStorage[window.location.hostname]}catch(s){}else{var r=document.createElement("div"),a="localStorage";r.style.display="none",document.getElementsByTagName("head")[0].appendChild(r),r.addBehavior&&(r.addBehavior("#default#userdata"),i={length:0,setItem:function(t,e){r.load(a),r.getAttribute(t)||this.length++,r.setAttribute(t,e),r.save(a)},getItem:function(t){return r.load(a),r.getAttribute(t)},removeItem:function(t){r.load(a),r.getAttribute(t)&&this.length--,r.removeAttribute(t),r.save(a)},clear:function(){r.load(a);for(var t,e=0;t=r.XMLDocument.documentElement.attributes[e++];)r.removeAttribute(t.name);r.save(a),this.length=0},key:function(t){return r.load(a),r.XMLDocument.documentElement.attributes[t]}},r.load(a),i.length=r.XMLDocument.documentElement.attributes.length)}i||(i={length:0,setItem:function(t,e){},getItem:function(t){},removeItem:function(t){},clear:function(){},key:function(t){}}),e.exports=i},{}],7:[function(t,e,n){!function(t){"use strict";function o(t,e){var n=(65535&t)+(65535&e),o=(t>>16)+(e>>16)+(n>>16);return o<<16|65535&n}function i(t,e){return t<<e|t>>>32-e}function s(t,e,n,s,r,a){return o(i(o(o(e,t),o(s,a)),r),n)}function r(t,e,n,o,i,r,a){return s(e&n|~e&o,t,e,i,r,a)}function a(t,e,n,o,i,r,a){return s(e&o|n&~o,t,e,i,r,a)}function u(t,e,n,o,i,r,a){return s(e^n^o,t,e,i,r,a)}function p(t,e,n,o,i,r,a){return s(n^(e|~o),t,e,i,r,a)}function c(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var n,i,s,c,d,l=1732584193,f=-271733879,h=-1732584194,v=271733878;for(n=0;n<t.length;n+=16)i=l,s=f,c=h,d=v,l=r(l,f,h,v,t[n],7,-680876936),v=r(v,l,f,h,t[n+1],12,-389564586),h=r(h,v,l,f,t[n+2],17,606105819),f=r(f,h,v,l,t[n+3],22,-1044525330),l=r(l,f,h,v,t[n+4],7,-176418897),v=r(v,l,f,h,t[n+5],12,1200080426),h=r(h,v,l,f,t[n+6],17,-1473231341),f=r(f,h,v,l,t[n+7],22,-45705983),l=r(l,f,h,v,t[n+8],7,1770035416),v=r(v,l,f,h,t[n+9],12,-1958414417),h=r(h,v,l,f,t[n+10],17,-42063),f=r(f,h,v,l,t[n+11],22,-1990404162),l=r(l,f,h,v,t[n+12],7,1804603682),v=r(v,l,f,h,t[n+13],12,-40341101),h=r(h,v,l,f,t[n+14],17,-1502002290),f=r(f,h,v,l,t[n+15],22,1236535329),l=a(l,f,h,v,t[n+1],5,-165796510),v=a(v,l,f,h,t[n+6],9,-1069501632),h=a(h,v,l,f,t[n+11],14,643717713),f=a(f,h,v,l,t[n],20,-373897302),l=a(l,f,h,v,t[n+5],5,-701558691),v=a(v,l,f,h,t[n+10],9,38016083),h=a(h,v,l,f,t[n+15],14,-660478335),f=a(f,h,v,l,t[n+4],20,-405537848),l=a(l,f,h,v,t[n+9],5,568446438),v=a(v,l,f,h,t[n+14],9,-1019803690),h=a(h,v,l,f,t[n+3],14,-187363961),f=a(f,h,v,l,t[n+8],20,1163531501),l=a(l,f,h,v,t[n+13],5,-1444681467),v=a(v,l,f,h,t[n+2],9,-51403784),h=a(h,v,l,f,t[n+7],14,1735328473),f=a(f,h,v,l,t[n+12],20,-1926607734),l=u(l,f,h,v,t[n+5],4,-378558),v=u(v,l,f,h,t[n+8],11,-2022574463),h=u(h,v,l,f,t[n+11],16,1839030562),f=u(f,h,v,l,t[n+14],23,-35309556),l=u(l,f,h,v,t[n+1],4,-1530992060),v=u(v,l,f,h,t[n+4],11,1272893353),h=u(h,v,l,f,t[n+7],16,-155497632),f=u(f,h,v,l,t[n+10],23,-1094730640),l=u(l,f,h,v,t[n+13],4,681279174),v=u(v,l,f,h,t[n],11,-358537222),h=u(h,v,l,f,t[n+3],16,-722521979),f=u(f,h,v,l,t[n+6],23,76029189),l=u(l,f,h,v,t[n+9],4,-640364487),v=u(v,l,f,h,t[n+12],11,-421815835),h=u(h,v,l,f,t[n+15],16,530742520),f=u(f,h,v,l,t[n+2],23,-995338651),l=p(l,f,h,v,t[n],6,-198630844),v=p(v,l,f,h,t[n+7],10,1126891415),h=p(h,v,l,f,t[n+14],15,-1416354905),f=p(f,h,v,l,t[n+5],21,-57434055),l=p(l,f,h,v,t[n+12],6,1700485571),v=p(v,l,f,h,t[n+3],10,-1894986606),h=p(h,v,l,f,t[n+10],15,-1051523),f=p(f,h,v,l,t[n+1],21,-2054922799),l=p(l,f,h,v,t[n+8],6,1873313359),v=p(v,l,f,h,t[n+15],10,-30611744),h=p(h,v,l,f,t[n+6],15,-1560198380),f=p(f,h,v,l,t[n+13],21,1309151649),l=p(l,f,h,v,t[n+4],6,-145523070),v=p(v,l,f,h,t[n+11],10,-1120210379),h=p(h,v,l,f,t[n+2],15,718787259),f=p(f,h,v,l,t[n+9],21,-343485551),l=o(l,i),f=o(f,s),h=o(h,c),v=o(v,d);return[l,f,h,v]}function d(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function f(t){return d(c(l(t),8*t.length))}function h(t,e){var n,o,i=l(t),s=[],r=[];for(s[15]=r[15]=void 0,i.length>16&&(i=c(i,8*t.length)),n=0;16>n;n+=1)s[n]=909522486^i[n],r[n]=1549556828^i[n];return o=c(s.concat(l(e)),512+8*e.length),d(c(r.concat(o),640))}function v(t){var e,n,o="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=o.charAt(e>>>4&15)+o.charAt(15&e);return i}function m(t){return unescape(encodeURIComponent(t))}function g(t){return f(m(t))}function w(t){return v(g(t))}function y(t,e){return h(m(t),m(e))}function _(t,e){return v(y(t,e))}function b(t,e,n){return e?n?y(e,t):_(e,t):n?g(t):w(t)}"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=b),n.md5=b):"function"==typeof define&&define.amd?define(function(){return b}):t.md5=b}(this)},{}],8:[function(t,e,n){var o=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],9:[function(t,e,n){var o=(t("querystring"),function(t,e,n,o){this.url=t,this.data=e||{},this.appKey=n,this.onUnloadEvent=o});o.prototype.send=function(t){function e(){i.abort()}var n=window.XDomainRequest?!0:!1;if(n){var o=new window.XDomainRequest;o.open("POST",this.url,this.onUnloadEvent?!1:!0),o.onload=function(){},o.onerror=function(){"Request Entity Too Large"===o.responseText?t(413,o.responseText):t(500,o.responseText)},o.ontimeout=function(){},o.onprogress=function(){},o.send(JSON.stringify(this.data))}else{var i=new XMLHttpRequest;if(i.open("POST",this.url,!0),i.onreadystatechange=function(){4===i.readyState&&(s&&clearTimeout(s),t(i.status,i.responseText))},i.setRequestHeader("X-APP-KEY",this.appKey),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","application/json"),i.send(JSON.stringify(this.data)),this.onUnloadEvent)var s=setTimeout(e,1e3)}},e.exports=o},{querystring:20}],20:[function(t,e,n){var o=encodeURIComponent,i=decodeURIComponent,s=t("trim"),r=t("type");n.parse=function(t){if("string"!=typeof t)return{};if(t=s(t),""==t)return{};"?"==t.charAt(0)&&(t=t.slice(1));for(var e={},n=t.split("&"),o=0;o<n.length;o++){var r,a=n[o].split("="),u=i(a[0]);(r=/(\w+)\[(\d+)\]/.exec(u))?(e[r[1]]=e[r[1]]||[],e[r[1]][r[2]]=i(a[1])):e[a[0]]=null==a[1]?"":i(a[1])}return e},n.stringify=function(t){if(!t)return"";var e=[];for(var n in t){var i=t[n];if("array"!=r(i))e.push(o(n)+"="+o(t[n]));else for(var s=0;s<i.length;++s)e.push(o(n+"["+s+"]")+"="+o(i[s]))}return e.join("&")}},{trim:21,type:22}],21:[function(t,e,n){function o(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}n=e.exports=o,n.left=function(t){return t.trimLeft?t.trimLeft():t.replace(/^\s*/,"")},n.right=function(t){return t.trimRight?t.trimRight():t.replace(/\s*$/,"")}},{}],22:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){switch(o.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":"undefined"!=typeof Buffer&&Buffer.isBuffer(t)?"buffer":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},{}],10:[function(t,e,n){!function(t,o){"use strict";var i="0.7.7",s="",r="?",a="function",u="undefined",p="object",c="string",d="major",l="model",f="name",h="type",v="vendor",m="version",g="architecture",w="console",y="mobile",_="tablet",b="smarttv",I="wearable",E="embedded",S={extend:function(t,e){for(var n in e)-1!=="browser cpu device engine os".indexOf(n)&&e[n].length%2===0&&(t[n]=e[n].concat(t[n]));return t},has:function(t,e){return"string"==typeof t?-1!==e.toLowerCase().indexOf(t.toLowerCase()):!1},lowerize:function(t){return t.toLowerCase()},major:function(t){return typeof t===c?t.split(".")[0]:o}},x={rgx:function(){for(var t,e,n,i,s,r,c,d=0,l=arguments;d<l.length&&!r;){var f=l[d],h=l[d+1];if(typeof t===u){t={};for(i in h)s=h[i],typeof s===p?t[s[0]]=o:t[s]=o}for(e=n=0;e<f.length&&!r;)if(r=f[e++].exec(this.getUA()))for(i=0;i<h.length;i++)c=r[++n],s=h[i],typeof s===p&&s.length>0?2==s.length?typeof s[1]==a?t[s[0]]=s[1].call(this,c):t[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?t[s[0]]=c?c.replace(s[1],s[2]):o:t[s[0]]=c?s[1].call(this,c,s[2]):o:4==s.length&&(t[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):o):t[s]=c?c:o;d+=2}return t},str:function(t,e){for(var n in e)if(typeof e[n]===p&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(S.has(e[n][i],t))return n===r?o:n}else if(S.has(e[n],t))return n===r?o:n;return t}},O={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},name:{"Opera Mobile":"Opera Mobi","IE Mobile":"IEMobile"}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},name:{"Windows Phone":"Windows Phone OS"}}}},T={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[[f,x.str,O.browser.name],m],[/\s(opr)\/([\w\.]+)/i],[[f,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[[f,x.str,O.browser.name],m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,/(Edge)\/((\d+)?[\w\.]+)/i],[[f,"IE"],m],[/(yabrowser)\/([\w\.]+)/i],[[f,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+chrome\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[f,"Chrome Mobile"],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[f,m],[/(dolfin)\/([\w\.]+)/i],[[f,"Dolphin"],m],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[m,[f,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[m,[f,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[m,[f,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[m,x.str,O.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(blackberry)\\s?\/([\w\.]+)/i],[[f,"BlackBerry"],m],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,m]],
cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,S.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,v,[h,_]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[v,"Apple"],[h,_]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[v,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[v,l,[h,_]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[v,"Amazon"],[h,_]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,x.str,O.device.amazon.model],[v,"Amazon"],[h,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,v,[h,y]],[/\((ip[honed|\s\w*]+);/i],[l,[v,"Apple"],[h,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[v,l,[h,y]],[/\(bb10;\s(\w+)/i],[l,[v,"BlackBerry"],[h,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[l,[v,"Asus"],[h,_]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[v,"Sony"],[l,"Xperia Tablet"],[h,_]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[v,"Sony"],[l,"Xperia Phone"],[h,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[v,l,[h,w]],[/android.+;\s(shield)\sbuild/i],[l,[v,"Nvidia"],[h,w]],[/(playstation\s[3portablevi]+)/i],[l,[v,"Sony"],[h,w]],[/(sprint\s(\w+))/i],[[v,x.str,O.device.sprint.vendor],[l,x.str,O.device.sprint.model],[h,y]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[v,l,[h,_]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[v,[l,/_/g," "],[h,y]],[/(nexus\s9)/i],[l,[v,"HTC"],[h,_]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[v,"Microsoft"],[h,w]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[v,"Microsoft"],[h,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[l,[v,"Motorola"],[h,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[v,"Motorola"],[h,_]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[v,"Samsung"],l,[h,_]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[v,"Samsung"],l,[h,y]],[/(samsung);smarttv/i],[v,l,[h,b]],[/\(dtv[\);].+(aquos)/i],[l,[v,"Sharp"],[h,b]],[/sie-(\w+)*/i],[l,[v,"Siemens"],[h,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[v,"Nokia"],l,[h,y]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[v,"Acer"],[h,_]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[v,"LG"],l,[h,_]],[/(lg) netcast\.tv/i],[v,l,[h,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[v,"LG"],[h,y]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[v,"Lenovo"],[h,_]],[/linux;.+((jolla));/i],[v,l,[h,y]],[/((pebble))app\/[\d\.]+\s/i],[v,l,[h,I]],[/android.+;\s(glass)\s\d/i],[l,[v,"Google"],[h,I]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g," "],[v,"Xiaomi"],[h,y]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[h,S.lowerize],v,l]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,m],[/rv\:([\w\.]+).*(gecko)/i],[m,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[f,x.str,O.os.windows.name],[m,x.str,O.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[m,x.str,O.os.windows.version]],[/\((bb)(10);/i],[[f,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[f,m],[/(symbian\s?o?s?|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[f,"Symbian"],m],[/\((series40);/i],[f],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"],m],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[[f,"Linux"],m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[f,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[[f,"Linux"],m],[/(iphone)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[f,"iPhone"],[m,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[f,"iPad"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[f,"Mac"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[f,m]]},k=function(e,n){if(!(this instanceof k))return new k(e,n).getResult();var o=e||(t&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:s),i=n?S.extend(T,n):T;return this.getBrowser=function(){var t=x.rgx.apply(this,i.browser);return t.major=S.major(t.version),t},this.getCPU=function(){return x.rgx.apply(this,i.cpu)},this.getDevice=function(){return x.rgx.apply(this,i.device)},this.getEngine=function(){return x.rgx.apply(this,i.engine)},this.getOS=function(){return x.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(t){return o=t,this},this.setUA(o),this};k.VERSION=i,k.BROWSER={NAME:f,MAJOR:d,VERSION:m},k.CPU={ARCHITECTURE:g},k.DEVICE={MODEL:l,VENDOR:v,TYPE:h,CONSOLE:w,MOBILE:y,SMARTTV:b,TABLET:_,WEARABLE:I,EMBEDDED:E},k.ENGINE={NAME:f,VERSION:m},k.OS={NAME:f,VERSION:m},typeof n!==u?(typeof e!==u&&e.exports&&(n=e.exports=k),n.UAParser=k):typeof define===a&&define.amd?define(function(){return k}):t.UAParser=k;var A=t.jQuery||t.Zepto;if(typeof A!==u){var N=new k;A.ua=N.getResult(),A.ua.get=function(){return N.getUA()},A.ua.set=function(t){N.setUA(t);var e=N.getResult();for(var n in e)A.ua[n]=e[n]}}}(this)},{}],11:[function(t,e,n){var o=function(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,o)};e.exports=o},{}],12:[function(t,e,n){e.exports="2.6.2"},{}],13:[function(t,e,n){var o=t("./type"),i="$add",s="$set",r="$setOnce",a="$unset",u=function(t){},p=function(){this.userPropertiesOperations={},this.properties=[]};p.prototype.add=function(t,e){return"number"===o(e)||"string"===o(e)?this._addOperation(i,t,e):u("Unsupported type for value: "+o(e)+", expecting number or string"),this},p.prototype.set=function(t,e){return this._addOperation(s,t,e),this},p.prototype.setOnce=function(t,e){return this._addOperation(r,t,e),this},p.prototype.unset=function(t){return this._addOperation(a,t,"-"),this},p.prototype._addOperation=function(t,e,n){return-1!==this.properties.indexOf(e)?void u('User property "'+e+'" already used in this identify, skipping operation '+t):(t in this.userPropertiesOperations||(this.userPropertiesOperations[t]={}),this.userPropertiesOperations[t][e]=n,void this.properties.push(e))},e.exports=p},{"./type":14}],14:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){switch(o.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":"undefined"!=typeof Buffer&&Buffer.isBuffer(t)?"buffer":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},{}]},{},{1:""}));